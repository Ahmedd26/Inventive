<div class="text-stone-800 dark:text-white">


  <form #categoryForm="ngForm" (ngSubmit)="onCreateCategory(categoryForm.value)">
    <div class="mb-2">
      <label for="name" class="block mb-2 text-sm font-medium text-stone-900 dark:text-white">Product name</label>
      <input id="name" type="text"
        class="bg-stone-50 border border-stone-300 text-stone-900 text-sm rounded-lg focus:ring-amber-500 focus:border-amber-500 block w-full p-2.5 dark:bg-stone-700 dark:border-stone-600 dark:placeholder-stone-400 dark:text-white dark:focus:ring-amber-500 dark:focus:border-amber-500 "
        name="name" required minlength="3" #name="ngModel" ngModel>
      <!-- ERROR HANDLING -->
      <div *ngIf="name.invalid && name.touched" class="text-red-500">
        <p *ngIf="name.hasError('required')"> required</p>
        <p *ngIf="name.hasError('minlength')"> minimum length is 3 characters</p>
      </div>
      <p *ngIf="errorTypes && errorTypes['name']" class="text-red-500">{{ errorTypes['name'] }} </p>
    </div>

    <div class="flex flex-row-reverse items-center gap-2 mt-2">
      <button type="submit" class="duration-150 text-white bg-amber-700 hover:bg-amber-800 focus:ring-4 focus:ring-amber-300 font-medium rounded-lg
        text-sm px-5 py-2.5 dark:bg-amber-600 dark:hover:bg-amber-700 focus:outline-none dark:focus:ring-amber-800">
        <!-- [disabled]="productForm.invalid" -->
        Create
      </button>
    </div>
  </form>



  @for (category of categoriesArray; track category.id) {
  <p>{{category.name}}</p>
  <p>{{category.id}}</p>

  <div class="flex justify-between">

    <div class="">
      <form #updateCategory="ngForm" (ngSubmit)="onUpdateCategory(updateCategory.value,category.id)">
        <label for="updatedCategory"> update category </label>
        <input id="updatedCategory" type="text" name="name"
          class="bg-stone-50 border border-stone-300 text-stone-900 text-sm rounded-lg focus:ring-amber-500 focus:border-amber-500 block w-full p-2.5 dark:bg-stone-700 dark:border-stone-600 dark:placeholder-stone-400 dark:text-white dark:focus:ring-amber-500 dark:focus:border-amber-500"
          required minlength="3" #updatedName="ngModel" ngModel [ngModel]="category.name">
        <div *ngIf="updatedName.invalid && updatedName.touched" class="text-red-500">
          <p *ngIf="updatedName.hasError('required')"> required</p>
          <p *ngIf="updatedName.hasError('minlength')"> minimum length is 3 characters</p>
        </div>
        <p *ngIf="errorUpdates && errorUpdates['name']" class="text-red-500">{{
          errorUpdates['name'] }}
        </p>

        <button type="submit" class="p-2 m-2 rounded-md bg-green-700 hover:bg-green-800">Update</button>
      </form>
    </div>

    <div>
      <button type="submit" (click)="onDeleteCategory(category.id)"
        class="p-2 mx-2 rounded-md bg-red-700 hover:bg-red-800 ">
        Delete
      </button>
    </div>

  </div>

  <hr class="m-2">
  }
  @empty{ <p>No categories found</p> }



</div>